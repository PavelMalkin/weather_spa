{"ast":null,"code":"import { createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { fetchApi } from './request';\nconst cors = 'https://cors-anywhere.herokuapp.com/';\nexport const getForecast = createAsyncThunk(\"weather/getForecast\", location => {\n  // const locArg = location[0] + ',' + location[1];\n  return fetchApi(`${cors}http://api.openweathermap.org/data/2.5/forecast?q=${location.city},${location.countryCode}&appid=${process.env.REACT_APP_OPENWEATHER_API_KEY}`);\n});\nexport const getCurrentWeather = createAsyncThunk(\"weather/getCurrentWeather\", location => {\n  console.log('getCurrentWeather input', location); // const locArg = (location.length > 1)? (location[0] + ',' + location[1]) : location[0];\n\n  return fetchApi(`${cors}http://api.openweathermap.org/data/2.5/weather?q=${location.city},${location.countryCode}&appid=${process.env.REACT_APP_OPENWEATHER_API_KEY}`);\n}); // export const getCurrentLocation = createAsyncThunk(\"getCurrentLocation\",() => {\n//     return fetchApi('https://api.ipgeolocation.io/ipgeo?apiKey=1dcb3c056a13421f85ff969ce829d0be')\n// })\n\nexport const getCityName = createAsyncThunk('location/getCityName', latLng => {\n  return fetchApi(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${latLng}&key=${process.env.REACT_APP_GOOGLE_API_KEY}`);\n});\nexport const getCurrentWeatherByCoord = createAsyncThunk(\"weather/getCurrentWeatherByCoord\", location => {\n  const locArg = location[0] + '&lon=' + location[1];\n  return fetchApi(`${cors}http://api.openweathermap.org/data/2.5/find?lat=${locArg}&cnt=3&appid=${process.env.REACT_APP_OPENWEATHER_API_KEY}`);\n});\nexport const getCityCoordinatesByName = createAsyncThunk('location/getCityCoordinatesByName', city => {\n  console.log('city in getCityCoordinatesByName', city);\n  return fetchApi(`https://maps.googleapis.com/maps/api/geocode/json?address=${city}&key=${process.env.REACT_APP_GOOGLE_API_KEY}`);\n});\nexport const getWeather = createAsyncThunk(\"weather/getWeather\", location => {\n  return fetchApi(`${cors}https://maps.googleapis.com/maps/api/geocode/json?address=Moscow,+USA&key=AIzaSyCS3U4Rmj5fzxOZz-F0zlmhbdv1pMkUtJ8${process.env.REACT_APP_OPENWEATHER_API_KEY}`);\n});","map":{"version":3,"sources":["C:/dev/react/weather_spa/src/redux/appThunk.js"],"names":["createAsyncThunk","fetchApi","cors","getForecast","location","city","countryCode","process","env","REACT_APP_OPENWEATHER_API_KEY","getCurrentWeather","console","log","getCityName","latLng","REACT_APP_GOOGLE_API_KEY","getCurrentWeatherByCoord","locArg","getCityCoordinatesByName","getWeather"],"mappings":"AAAA,SAAQA,gBAAR,QAA+B,kBAA/B;AACA,SAAQC,QAAR,QAAuB,WAAvB;AAGA,MAAMC,IAAI,GAAG,sCAAb;AAEA,OAAO,MAAMC,WAAW,GAAGH,gBAAgB,CAAE,qBAAF,EAA0BI,QAAD,IAAa;AAC7E;AACA,SAAOH,QAAQ,CAAE,GAAEC,IAAK,qDAAoDE,QAAQ,CAACC,IAAK,IAAGD,QAAQ,CAACE,WAAY,UAASC,OAAO,CAACC,GAAR,CAAYC,6BAA8B,EAAtJ,CAAf;AACH,CAH0C,CAApC;AAKP,OAAO,MAAMC,iBAAiB,GAAGV,gBAAgB,CAAE,2BAAF,EAAgCI,QAAD,IAAa;AACzFO,EAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAsCR,QAAtC,EADyF,CAEzF;;AACA,SAAOH,QAAQ,CAAE,GAAEC,IAAK,oDAAmDE,QAAQ,CAACC,IAAK,IAAGD,QAAQ,CAACE,WAAY,UAASC,OAAO,CAACC,GAAR,CAAYC,6BAA8B,EAArJ,CAAf;AACH,CAJgD,CAA1C,C,CAMP;AACA;AACA;;AAEA,OAAO,MAAMI,WAAW,GAAGb,gBAAgB,CAAC,sBAAD,EAA0Bc,MAAD,IAAY;AAC5E,SAAOb,QAAQ,CAAE,4DAA2Da,MAAO,QAAOP,OAAO,CAACC,GAAR,CAAYO,wBAAyB,EAAhH,CAAf;AACH,CAF0C,CAApC;AAIP,OAAO,MAAMC,wBAAwB,GAAGhB,gBAAgB,CAAE,kCAAF,EAAuCI,QAAD,IAAa;AACvG,QAAMa,MAAM,GAAGb,QAAQ,CAAC,CAAD,CAAR,GAAc,OAAd,GAAwBA,QAAQ,CAAC,CAAD,CAA/C;AACA,SAAOH,QAAQ,CAAE,GAAEC,IAAK,mDAAkDe,MAAO,gBAAeV,OAAO,CAACC,GAAR,CAAYC,6BAA8B,EAA3H,CAAf;AACH,CAHuD,CAAjD;AAKP,OAAO,MAAMS,wBAAwB,GAAGlB,gBAAgB,CAAC,mCAAD,EAAuCK,IAAD,IAAU;AACpGM,EAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ,EAA+CP,IAA/C;AACA,SAAOJ,QAAQ,CAAE,6DAA4DI,IAAK,QAAOE,OAAO,CAACC,GAAR,CAAYO,wBAAyB,EAA/G,CAAf;AACH,CAHuD,CAAjD;AAKP,OAAO,MAAMI,UAAU,GAAGnB,gBAAgB,CAAE,oBAAF,EAAyBI,QAAD,IAAa;AAC3E,SAAOH,QAAQ,CAAE,GAAEC,IAAK,oHAAmHK,OAAO,CAACC,GAAR,CAAYC,6BAA8B,EAAtK,CAAf;AACH,CAFyC,CAAnC","sourcesContent":["import {createAsyncThunk} from \"@reduxjs/toolkit\";\r\nimport {fetchApi} from './request'\r\n\r\n\r\nconst cors = 'https://cors-anywhere.herokuapp.com/';\r\n\r\nexport const getForecast = createAsyncThunk( \"weather/getForecast\", (location) =>{\r\n    // const locArg = location[0] + ',' + location[1];\r\n    return fetchApi(`${cors}http://api.openweathermap.org/data/2.5/forecast?q=${location.city},${location.countryCode}&appid=${process.env.REACT_APP_OPENWEATHER_API_KEY}`)\r\n})\r\n\r\nexport const getCurrentWeather = createAsyncThunk( \"weather/getCurrentWeather\", (location) =>{\r\n    console.log('getCurrentWeather input',location)\r\n    // const locArg = (location.length > 1)? (location[0] + ',' + location[1]) : location[0];\r\n    return fetchApi(`${cors}http://api.openweathermap.org/data/2.5/weather?q=${location.city},${location.countryCode}&appid=${process.env.REACT_APP_OPENWEATHER_API_KEY}`)\r\n})\r\n\r\n// export const getCurrentLocation = createAsyncThunk(\"getCurrentLocation\",() => {\r\n//     return fetchApi('https://api.ipgeolocation.io/ipgeo?apiKey=1dcb3c056a13421f85ff969ce829d0be')\r\n// })\r\n\r\nexport const getCityName = createAsyncThunk('location/getCityName', (latLng) => {\r\n    return fetchApi(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${latLng}&key=${process.env.REACT_APP_GOOGLE_API_KEY}`)\r\n})\r\n\r\nexport const getCurrentWeatherByCoord = createAsyncThunk( \"weather/getCurrentWeatherByCoord\", (location) =>{\r\n    const locArg = location[0] + '&lon=' + location[1];\r\n    return fetchApi(`${cors}http://api.openweathermap.org/data/2.5/find?lat=${locArg}&cnt=3&appid=${process.env.REACT_APP_OPENWEATHER_API_KEY}`)\r\n})\r\n\r\nexport const getCityCoordinatesByName = createAsyncThunk('location/getCityCoordinatesByName', (city) => {\r\n    console.log('city in getCityCoordinatesByName',city)\r\n    return fetchApi(`https://maps.googleapis.com/maps/api/geocode/json?address=${city}&key=${process.env.REACT_APP_GOOGLE_API_KEY}`)\r\n})\r\n\r\nexport const getWeather = createAsyncThunk( \"weather/getWeather\", (location) =>{\r\n    return fetchApi(`${cors}https://maps.googleapis.com/maps/api/geocode/json?address=Moscow,+USA&key=AIzaSyCS3U4Rmj5fzxOZz-F0zlmhbdv1pMkUtJ8${process.env.REACT_APP_OPENWEATHER_API_KEY}`)\r\n})\r\n\r\n"]},"metadata":{},"sourceType":"module"}