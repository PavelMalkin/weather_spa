{"ast":null,"code":"import { createReducer } from \"@reduxjs/toolkit\";\nimport { getCityName } from \"../appThunk\";\nimport { setCurrentCity } from \"../actions/citiesActions\";\nconst initialState = {\n  actualLocation: [],\n  hasFetched: false,\n  isFetching: false,\n  isFetchingError: null\n};\nconst locationReducer = createReducer(initialState, {\n  [getCityName.pending]: state => {\n    state.isFetching = true;\n    return state;\n  },\n  [getCityName.rejected]: (state, action) => {\n    state.isFetching = false;\n    state.error = action.error.message;\n    return state;\n  },\n  [getCityName.fulfilled]: (state, action) => {\n    state.isFetching = false;\n    state.hasFetched = true;\n    state.actualLocation = [action.payload.results[0].address_components.find(place => place.types.some(type => type === 'locality')).long_name, action.payload.results[0].address_components.find(place => place.types.some(type => type === 'country')).short_name];\n    return state;\n  } // [setCurrentCity] : (state, action) => {\n  //     state.actualLocation = [action.payload];\n  //     return state;\n  // }\n\n});\nexport default locationReducer;","map":{"version":3,"sources":["C:/dev/react/weather_spa/src/redux/reducers/locationReducer.js"],"names":["createReducer","getCityName","setCurrentCity","initialState","actualLocation","hasFetched","isFetching","isFetchingError","locationReducer","pending","state","rejected","action","error","message","fulfilled","payload","results","address_components","find","place","types","some","type","long_name","short_name"],"mappings":"AAAA,SAAQA,aAAR,QAA4B,kBAA5B;AACA,SAAQC,WAAR,QAA0B,aAA1B;AACA,SAAQC,cAAR,QAA6B,0BAA7B;AAIA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,cAAc,EAAE,EADC;AAEjBC,EAAAA,UAAU,EAAE,KAFK;AAGjBC,EAAAA,UAAU,EAAE,KAHK;AAIjBC,EAAAA,eAAe,EAAE;AAJA,CAArB;AAOA,MAAMC,eAAe,GAAGR,aAAa,CAACG,YAAD,EAAe;AAChD,GAACF,WAAW,CAACQ,OAAb,GAAwBC,KAAD,IAAW;AAC9BA,IAAAA,KAAK,CAACJ,UAAN,GAAmB,IAAnB;AACA,WAAOI,KAAP;AACH,GAJ+C;AAKhD,GAACT,WAAW,CAACU,QAAb,GAAwB,CAACD,KAAD,EAAQE,MAAR,KAAmB;AACvCF,IAAAA,KAAK,CAACJ,UAAN,GAAmB,KAAnB;AACAI,IAAAA,KAAK,CAACG,KAAN,GAAcD,MAAM,CAACC,KAAP,CAAaC,OAA3B;AACA,WAAOJ,KAAP;AACH,GAT+C;AAUhD,GAACT,WAAW,CAACc,SAAb,GAAyB,CAACL,KAAD,EAAQE,MAAR,KAAmB;AACxCF,IAAAA,KAAK,CAACJ,UAAN,GAAmB,KAAnB;AACAI,IAAAA,KAAK,CAACL,UAAN,GAAmB,IAAnB;AACAK,IAAAA,KAAK,CAACN,cAAN,GAAuB,CACnBQ,MAAM,CAACI,OAAP,CAAeC,OAAf,CAAuB,CAAvB,EAA0BC,kBAA1B,CAA6CC,IAA7C,CAAmDC,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYC,IAAZ,CAAiBC,IAAI,IAAIA,IAAI,KAAI,UAAjC,CAA5D,EAA0GC,SADvF,EAEnBZ,MAAM,CAACI,OAAP,CAAeC,OAAf,CAAuB,CAAvB,EAA0BC,kBAA1B,CAA6CC,IAA7C,CAAmDC,KAAK,IAAIA,KAAK,CAACC,KAAN,CAAYC,IAAZ,CAAiBC,IAAI,IAAIA,IAAI,KAAI,SAAjC,CAA5D,EAAyGE,UAFtF,CAAvB;AAIA,WAAOf,KAAP;AACH,GAlB+C,CAmBhD;AACA;AACA;AACA;;AAtBgD,CAAf,CAArC;AAyBA,eAAeF,eAAf","sourcesContent":["import {createReducer} from \"@reduxjs/toolkit\";\r\nimport {getCityName} from \"../appThunk\";\r\nimport {setCurrentCity} from \"../actions/citiesActions\"\r\n\r\n\r\n\r\nconst initialState = {\r\n    actualLocation: [],\r\n    hasFetched: false,\r\n    isFetching: false,\r\n    isFetchingError: null\r\n};\r\n\r\nconst locationReducer = createReducer(initialState, {\r\n    [getCityName.pending]: (state) => {\r\n        state.isFetching = true;\r\n        return state;\r\n    },\r\n    [getCityName.rejected]: (state, action) => {\r\n        state.isFetching = false;\r\n        state.error = action.error.message;\r\n        return state;\r\n    },\r\n    [getCityName.fulfilled]: (state, action) => {\r\n        state.isFetching = false;\r\n        state.hasFetched = true;\r\n        state.actualLocation = [\r\n            action.payload.results[0].address_components.find( place => place.types.some(type => type ==='locality')).long_name,\r\n            action.payload.results[0].address_components.find( place => place.types.some(type => type ==='country')).short_name\r\n        ]\r\n        return state;\r\n    },\r\n    // [setCurrentCity] : (state, action) => {\r\n    //     state.actualLocation = [action.payload];\r\n    //     return state;\r\n    // }\r\n})\r\n\r\nexport default locationReducer;"]},"metadata":{},"sourceType":"module"}