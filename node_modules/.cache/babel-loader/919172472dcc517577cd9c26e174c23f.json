{"ast":null,"code":"import { createReducer } from \"@reduxjs/toolkit\";\nimport { getCityName, getCurrentWeather } from \"../appThunk\";\nimport { saveCity, deleteCity } from \"../actions/citiesActions\";\nconst initialState = {\n  currentCity: '',\n  savedCities: [// {city:'Moscow',countryCode: 'RU', location:{lat:55.755826, lon:37.6172999} },\n    // {city:'Barcelona',countryCode: 'ES', location:{lat:41.3850639, lon:2.1734035} },\n    // {city:'Haifa',countryCode: 'IL', location:{lat:32.82, lon:34.99} },\n    // {city:'New York',countryCode: 'US', location:{lat:40.7127753, lon:-74.0059728} },\n    // {city:'Podolsk',countryCode: 'RU', location:{lat:55.4312453, lon:37.5457647} },\n  ],\n  hasFetched: false\n};\nconst citiesReducer = createReducer(initialState, {\n  // [getCityName.pending]: (state) => {\n  //     state.isFetching = true;\n  //     return state;\n  // },\n  // [getCityName.rejected]: (state, action) => {\n  //     state.isFetching = false;\n  //     state.error = action.error.message;\n  //     return state;\n  // },\n  // [getCityName.fulfilled]: (state, action) => {\n  //     state.isFetching = false;\n  //     state.hasFetched = true;\n  //     state.currentCity =  action.payload;\n  //     return state;\n  // },\n  [saveCity]: (state, action) => {\n    state.savedCities = [...state.savedCities, ...action.payload];\n    state.hasFetched = true;\n    return state;\n  },\n  [deleteCity]: (state, action) => {\n    console.log('delete reducer', action.payload);\n    state.savedCities.forEach((city, index) => {\n      if (city.city === action.payload.city) {\n        state.savedCities.splice(index, 1);\n      }\n    });\n    return state;\n  }\n});\nexport default citiesReducer;","map":{"version":3,"sources":["C:/dev/react/weather_spa/src/redux/reducers/citiesReducer.js"],"names":["createReducer","getCityName","getCurrentWeather","saveCity","deleteCity","initialState","currentCity","savedCities","hasFetched","citiesReducer","state","action","payload","console","log","forEach","city","index","splice"],"mappings":"AAAA,SAAQA,aAAR,QAA4B,kBAA5B;AACA,SAAQC,WAAR,EAAqBC,iBAArB,QAA6C,aAA7C;AACA,SAAQC,QAAR,EAAkBC,UAAlB,QAAmC,0BAAnC;AAGA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,WAAW,EAAE,EADI;AAEjBC,EAAAA,WAAW,EAAE,CACT;AACA;AACA;AACA;AACA;AALS,GAFI;AASjBC,EAAAA,UAAU,EAAE;AATK,CAArB;AAYA,MAAMC,aAAa,GAAGT,aAAa,CAACK,YAAD,EAAe;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAACF,QAAD,GAAY,CAACO,KAAD,EAAQC,MAAR,KAAmB;AAC3BD,IAAAA,KAAK,CAACH,WAAN,GAAoB,CAAC,GAAGG,KAAK,CAACH,WAAV,EAAuB,GAAGI,MAAM,CAACC,OAAjC,CAApB;AACAF,IAAAA,KAAK,CAACF,UAAN,GAAmB,IAAnB;AACA,WAAOE,KAAP;AACH,GArB6C;AAsB9C,GAACN,UAAD,GAAc,CAACM,KAAD,EAAQC,MAAR,KAAmB;AAC7BE,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BH,MAAM,CAACC,OAArC;AACAF,IAAAA,KAAK,CAACH,WAAN,CAAkBQ,OAAlB,CAA2B,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACxC,UAAID,IAAI,CAACA,IAAL,KAAcL,MAAM,CAACC,OAAP,CAAeI,IAAjC,EAAuC;AACnCN,QAAAA,KAAK,CAACH,WAAN,CAAkBW,MAAlB,CAAyBD,KAAzB,EAAgC,CAAhC;AACH;AACJ,KAJD;AAKA,WAAOP,KAAP;AACH;AA9B6C,CAAf,CAAnC;AAkCA,eAAeD,aAAf","sourcesContent":["import {createReducer} from \"@reduxjs/toolkit\";\r\nimport {getCityName, getCurrentWeather} from \"../appThunk\";\r\nimport {saveCity, deleteCity} from \"../actions/citiesActions\";\r\n\r\n\r\nconst initialState = {\r\n    currentCity: '',\r\n    savedCities: [\r\n        // {city:'Moscow',countryCode: 'RU', location:{lat:55.755826, lon:37.6172999} },\r\n        // {city:'Barcelona',countryCode: 'ES', location:{lat:41.3850639, lon:2.1734035} },\r\n        // {city:'Haifa',countryCode: 'IL', location:{lat:32.82, lon:34.99} },\r\n        // {city:'New York',countryCode: 'US', location:{lat:40.7127753, lon:-74.0059728} },\r\n        // {city:'Podolsk',countryCode: 'RU', location:{lat:55.4312453, lon:37.5457647} },\r\n    ],\r\n    hasFetched: false,\r\n};\r\n\r\nconst citiesReducer = createReducer(initialState, {\r\n    // [getCityName.pending]: (state) => {\r\n    //     state.isFetching = true;\r\n    //     return state;\r\n    // },\r\n    // [getCityName.rejected]: (state, action) => {\r\n    //     state.isFetching = false;\r\n    //     state.error = action.error.message;\r\n    //     return state;\r\n    // },\r\n    // [getCityName.fulfilled]: (state, action) => {\r\n    //     state.isFetching = false;\r\n    //     state.hasFetched = true;\r\n    //     state.currentCity =  action.payload;\r\n    //     return state;\r\n    // },\r\n\r\n    [saveCity]: (state, action) => {\r\n        state.savedCities = [...state.savedCities, ...action.payload];\r\n        state.hasFetched = true;\r\n        return state;\r\n    },\r\n    [deleteCity]: (state, action) => {\r\n        console.log('delete reducer', action.payload)\r\n        state.savedCities.forEach( (city, index) => {\r\n            if (city.city === action.payload.city) {\r\n                state.savedCities.splice(index, 1)\r\n            }\r\n        })\r\n        return state\r\n    }\r\n\r\n})\r\n\r\nexport default citiesReducer;"]},"metadata":{},"sourceType":"module"}